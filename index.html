<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Snake Pro üêç</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  height:100vh;
  background:radial-gradient(circle,#020617,#000);
  display:flex;
  justify-content:center;
  align-items:center;
  font-family:Segoe UI,system-ui;
  color:#e5e7eb;
}
#ui{
  width:420px;
  background:#020617;
  border:1px solid #1f2937;
  border-radius:16px;
  padding:16px;
  box-shadow:0 20px 40px rgba(0,0,0,.6);
  text-align:center;
}
.blur{filter:blur(6px)}
canvas{
  background:#020617;
  border-radius:12px;
  border:2px solid #22c55e;
}
button,select,input{
  background:#020617;
  color:white;
  border:1px solid #1f2937;
  border-radius:10px;
  padding:6px 12px;
  margin:4px;
  cursor:pointer;
}

/* MODAL */
.modal{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.7);
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:999;
}
.hidden{display:none}
.modal-card{
  background:#020617;
  border:1px solid #1f2937;
  border-radius:18px;
  padding:30px;
  width:300px;
  text-align:center;
  animation:pop .4s ease;
}
@keyframes pop{
  from{transform:scale(.6);opacity:0}
  to{transform:scale(1);opacity:1}
}

/* Controls */
#controls{display:flex;flex-direction:column;align-items:center;margin-top:10px}
#controls div{display:flex}
#controls button{
  width:60px;height:60px;font-size:28px;margin:5px;
  border-radius:50%;border:none;
  background:linear-gradient(145deg,#0ea5e9,#22c55e);
  box-shadow:0 0 15px #22c55e inset;
}
#controls button:hover{transform:scale(1.15)}

/* Speed */
#speedControl{margin-top:10px}
#speedRange{width:150px}

/* Instagram */
#social a{
  display:flex;justify-content:center;align-items:center;
  gap:6px;text-decoration:none;color:#e5e7eb;margin-top:10px
}
#social img{filter:invert(1);transition:.2s}
#social a:hover img{transform:scale(1.2)}
</style>
</head>

<body>

<div id="ui">
  <h2>üêç Snake Pro</h2>
  <p>Score: <span id="score">0</span> | Best: <span id="best">0</span></p>

  <select id="skin">
    <option value="green">Green</option>
    <option value="blue">Neon Blue</option>
    <option value="fire">Fire üî•</option>
    <option value="galaxy">Galaxy üåå</option>
  </select>

  <div>
    <button onclick="home.html">‚ñ∂ Start</button>
    <button onclick="start()">‚ñ∂ Start</button>
    <button onclick="pause()">‚è∏ Pause</button>
  </div>

  <!-- Speed -->
  <div id="speedControl">
    Speed:
    <input type="range" id="speedRange" min="50" max="300" value="210" step="10">
    <span id="speedValue">210ms</span>
  </div>

  <canvas id="canvas" width="380" height="380"></canvas>

  <!-- Arrow buttons -->
  <div id="controls">
    <div><button onclick="setDir(0,-1)">‚¨ÜÔ∏è</button></div>
    <div>
      <button onclick="setDir(-1,0)">‚¨ÖÔ∏è</button>
      <button onclick="setDir(1,0)">‚û°Ô∏è</button>
    </div>
    <div><button onclick="setDir(0,1)">‚¨áÔ∏è</button></div>
  </div>

  <div id="social">
    <a href="https://www.instagram.com/sinan._u" target="_blank">
      <img src="https://cdn-icons-png.flaticon.com/512/2111/2111463.png" width="24">
      <span>@sinan._u</span>
    </a>
  </div>
</div>

<!-- GAME OVER -->
<div id="gameOverModal" class="modal hidden">
  <div class="modal-card">
    <h2>Game Over</h2>
    <p>Your Score</p>
    <h1 id="finalScore">0</h1>
    <button onclick="start()">Play Again</button>
  </div>
</div>

<!-- Sounds -->
<audio id="eat1" src="Untitled video - Made with Clipchamp.m4a"></audio>
<audio id="eat2" src="Untitled video - Made with Clipchamp.m4a"></audio>
<audio id="eat3" src="Untitled video - Made with Clipchamp.m4a"></audio>
<audio id="fail" src="Untitled video2 - Made with Clipchamp.m4a"></audio>

<script>
const canvas=document.getElementById("canvas");
const ctx=canvas.getContext("2d");
const box=20, cells=canvas.width/box;

let snake,food,dir,game,paused=false;
let score=0;
let best=localStorage.getItem("snakeBest")||0;
best.textContent=best;

const skins={
 green:{h:"#86efac",b:"#22c55e"},
 blue:{h:"#7dd3fc",b:"#0ea5e9"},
 fire:{h:"#fde047",b:"#f97316"},
 galaxy:{h:"#e879f9",b:"#8b5cf6"}
};

const eat=[eat1,eat2,eat3];
let ei=0;

const speedRange=document.getElementById("speedRange");
const speedValue=document.getElementById("speedValue");
let gameSpeed=210;

speedRange.oninput=()=>{
 gameSpeed=parseInt(speedRange.value);
 speedValue.textContent=gameSpeed+"ms";
 if(game){
  clearInterval(game);
  game=setInterval(update,gameSpeed);
 }
};

function reset(){
 snake=[{x:10,y:10},{x:9,y:10},{x:8,y:10}];
 food=spawnFood();
 dir={x:1,y:0};
 score=0;
 score.textContent=0;
}

function start(){
 clearInterval(game);
 gameOverModal.classList.add("hidden");
 ui.classList.remove("blur");
 reset();
 game=setInterval(update,gameSpeed);
}

function pause(){paused=!paused}
function setDir(x,y){if(x===-dir.x&&y===-dir.y)return;dir={x,y}}

document.addEventListener("keydown",e=>{
 if(e.key==="ArrowLeft")setDir(-1,0);
 if(e.key==="ArrowRight")setDir(1,0);
 if(e.key==="ArrowUp")setDir(0,-1);
 if(e.key==="ArrowDown")setDir(0,1);
});

function spawnFood(){
 return{x:Math.floor(Math.random()*cells),y:Math.floor(Math.random()*cells)}
}

function update(){
 if(paused)return;
 let h={...snake[0]};
 h.x+=dir.x; h.y+=dir.y;

 if(h.x<0||h.y<0||h.x>=cells||h.y>=cells||snake.some(s=>s.x===h.x&&s.y===h.y)){
  gameOver(); return;
 }

 snake.unshift(h);

 if(h.x===food.x&&h.y===food.y){
  score++; score.textContent=score;
  eat[ei++%eat.length].currentTime=0;
  eat[ei%eat.length].play();
  food=spawnFood();
 }else snake.pop();

 draw();
}

function draw(){
 ctx.clearRect(0,0,canvas.width,canvas.height);
 ctx.fillStyle="#ef4444";
 ctx.fillRect(food.x*box,food.y*box,box,box);
 const s=skins[skin.value];
 snake.forEach((p,i)=>{
  ctx.fillStyle=i?s.b:s.h;
  ctx.fillRect(p.x*box,p.y*box,box,box);
 });
}

function gameOver(){
 clearInterval(game);
 fail.currentTime=0; fail.play();
 if(score>best){
  best=score;
  localStorage.setItem("snakeBest",best);
  document.getElementById("best").textContent=best;
 }
 finalScore.textContent=score;
 gameOverModal.classList.remove("hidden");
 ui.classList.add("blur");
}
</script>

</body>
</html>
